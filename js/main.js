"use strict";var _createClass=function(){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}svg4everybody(),function(){var e=function(i,e){var n;n=function(e,t){bowser[e]&&document.documentElement.classList.add("is-"+i+"-"+t)},e.forEach(function(e){var t=void 0,i=void 0;"string"==typeof e?i=t=e:(t=e[0],i=e[1]),n(t,i)})};e("engine",["blink","gecko",["msedge","edge"],["msie","ie"],"webkit"]),e("device",["mobile","tablet"]),e("browser",["android","bada","blackberry","chrome","firefox","ios","kMeleon",["msedge","edge"],["msie","ie"],"opera","phantom","qupzilla","safari","sailfish",["samsungBrowser","samsung"],"seamonkey","silk","sleipnir","tizen","ucbrowser","vivaldi","webos",["yandexbrowser","yandex"]]),e("os",["android","bada","blackberry","chromeos","firefoxos","ipad","iphone","ipod","ios","linux","mac","windows","windowsphone","sailfish","tizen","webos"])}();var formWorker=function(){function n(e,t){var i=this;_classCallCheck(this,n),this._form=document.querySelector(e),this._form&&("search"==t?(this.setupRadioSettings(),this.setupCheckboxSettings()):"calc"==t?this._form.querySelectorAll(".widget__control").forEach(function(e){e.addEventListener("input",i.validate.bind(e))}):"opt"==t&&this._form.querySelectorAll(".widget__control").forEach(function(e){e.addEventListener("input",i.inputWatch.bind(e,".widget__text","postfix")),i.inputWatch.call(e,".widget__text","postfix"),e.addEventListener("change",i.checkResult.bind(i,"-?d+(.d{0,})?"))}))}return _createClass(n,[{key:"setupRadioSettings",value:function(){for(var i=this._form.querySelectorAll(".search-form__list"),e=function(e){var t=i[e].querySelectorAll(".search-form__radio-item");t.forEach(function(e){"0"==e.getAttribute("data-index")&&e.classList.add("active"),e.addEventListener("click",function(){t.forEach(function(e){e.classList.remove("active")}),e.classList.add("active")})})},t=0;t<i.length;t++)e(t)}},{key:"setupCheckboxSettings",value:function(){this._form.querySelectorAll(".search-form__checkbox").forEach(function(e){e&&e.addEventListener("click",function(){e.classList.toggle("active")})})}},{key:"inputWatch",value:function(e,t){var i=this.parentNode.querySelector(e);i.textContent=this.value.replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 ")+i.dataset[t]}},{key:"checkResult",value:function(){var e=this._form.querySelectorAll(".widget__control");this._form.querySelector("span[data-type='result']").textContent=(+e[0].value+e[1].value*e[2].value).toString().replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 ")}},{key:"validate",value:function(e){new RegExp("[^0-9s.-]+").test(this.value)?this.classList.add("novalid"):this.classList.remove("novalid")}}]),n}();function toggleAnimate(e,t,i){var n=document.querySelector(this);n.classList.contains("firstLoad")&&n.classList.remove("firstLoad"),n.classList.contains(e)?(n.classList.remove(t),n.classList.add(i)):n.classList.contains(i)&&(n.classList.remove(i),n.classList.add(t))}function toggleClass(e){document.querySelector(this).classList.toggle(e)}var accordion=function(){function e(t){var i=this;_classCallCheck(this,e),this._menu=document.querySelectorAll(t),this._menu.forEach(function(e){e&&i.bindAccord(t,e)})}return _createClass(e,[{key:"bindAccord",value:function(e,t){var i=t.querySelector(e+"__target");i&&i.addEventListener("click",this.toggleInner.bind(i,e))}},{key:"toggleInner",value:function(e){var t=this.parentNode.querySelector(e+"__inner");this.classList.toggle("active"),t.classList.toggle("active")}}]),e}(),_init={_initialize:function(){_init._bindingEvent("#mobile-btn","click",toggleAnimate.bind("#mobile-menu","show","bounceInDown","bounceOutUp")),_init._bindingEvent("#mobile-btn","click",toggleClass.bind("#mobile-btn","show")),_init._bindingEvent("#mobile-btn","click",toggleClass.bind("#mobile-menu","show")),_init._cutString(".news__hover",200);new formWorker("#header-form","search"),new formWorker("#options","opt"),new formWorker("#calculator","calc"),new accordion(".accordion")},_bindingEvent:function(e,t,i){document.querySelector(e).addEventListener(t,i)},_cutString:function(e,t){for(var i=document.querySelectorAll(e),n=0;n<i.length;n++){for(var o="",s=void 0,r=0;r<i[n].childNodes.length;r++)o+=i[n].childNodes[r].textContent,s=r;if(o.length>t){var a=t-i[n].childNodes[s-1].textContent.length,c=i[n].childNodes[s].textContent.split("");c.length=a,c.push("...");var l=c.join("");i[n].childNodes[s].textContent=l}}}};window.addEventListener("load",_init._initialize);